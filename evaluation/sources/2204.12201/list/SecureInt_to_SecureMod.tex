\begin{figure}[t]
%\scriptsize
\begin{minipage}{\linewidth}
\begin{lstlisting}[language=C++, caption={
Casting from \secint\ to \secmod. The \secint\ variable is converted to \secuint, which is then converted to \secmod.}, style=mystyleb, label=list:secint2secmod,
%framexrightmargin=-37pt,
% xleftmargin=0.4cm,
% xrightmargin=-0.12\linewidth,
% linewidth=0.88\linewidth
]
template <int Size>
SecureMod to_SecureMod(SecureInt<Size> v)
{
    SecureUint<Size> u(v);
    auto pos = to_SecureMod(u);
    int max = 1 << Size;
    auto neg = SecureMod::t - max + pos;
    SecureMod isNeg = v[Size-1];
    return isNeg * neg + (1-isNeg) * pos;
}
\end{lstlisting}
\end{minipage}
% \vspace{\lstbspace}
\vspace{-0.7cm} 
\end{figure}


% \iffalse Then, we use the most significant bit of the \secint\ variable to define whether the value is negative. \if 