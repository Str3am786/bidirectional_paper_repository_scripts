\begin{figure}[h]

%\scriptsize
% \vbox to 600pt {
\noindent\begin{minipage}{.50\textwidth}
\begin{lstlisting}[language=C++,
caption={Private Keyword Search using bit-level arithmetic.},
style=mystyle, label=list:pks_bit,
%framexrightmargin=-37pt,
% xleftmargin=0.4cm,
% xrightmargin=-0.12\linewidth,
% linewidth=0.88\linewidth
]
template <int S> SecureInt<S>
pks(vector<SecureInt<S>> v, SecureInt<S> k)
{
    vector<SecureInt<S>> r;
    for (size_t i=0; i < v.size(); i++)
    {
        auto eq = i == k;
        auto sel = eq * v[i];
        r.push_back(sel);
    }
    return sum(r);
}
\end{lstlisting}
\end{minipage}
% \vspace{\lstbspace}


% }
\end{figure}
