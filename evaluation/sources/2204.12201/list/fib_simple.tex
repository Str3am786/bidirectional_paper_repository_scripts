\begin{figure}
%\scriptsize
\begin{minipage}{\linewidth}
\begin{lstlisting}[language=C++, caption={Simple Fibonacci function.
% \hspace{1cm} \mbox{}
}, style=mystyle, label=list:fibo, 
% xrightmargin=-0.12\linewidth,
% linewidth=0.96\linewidth
]
int fibonacci(int in)
{
    int i=0, a=0, b=1;
    while( i++ != in )
    {
        std::swap(a,b);
        a += b;
    }
    return a;
}
\end{lstlisting}
\end{minipage}
% \vspace{\lstbspace}
\vspace{-0.1in}
\end{figure}
