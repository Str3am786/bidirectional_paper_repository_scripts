\begin{figure}
%\scriptsize
\begin{minipage}{\linewidth}
\begin{lstlisting}[language=C++, caption={Data-oblivious Fibonacci function.
% \hspace{-0.05cm} \mbox{}
}, style=mystyle, label=list:fibdo,
% xrightmargin=-0.12\linewidth,
%linewidth=0.96\linewidth
]
int fibonacci(int in)
{
    int i=0, a=0, b=1;
    int r=0;
    int max_iter = 10;
    while( max_iter-- )
    {
        r += (i++ == in) * a;
        std::swap(a,b);
        a += b;
    }
    return r;
}
\end{lstlisting}
\end{minipage}
% \vspace{\lstbspace}
\vspace{-0.2in}
\end{figure}
