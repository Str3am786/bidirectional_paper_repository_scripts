\begin{figure}[t]
%\scriptsize
\begin{minipage}{\linewidth}
\begin{lstlisting}[language=C++,
caption={The multiplexer function using bit-level arithmetic.},
style=mystyle, label=list:mux_bit,
%framexrightmargin=-37pt,
% xleftmargin=0.4cm,
% xrightmargin=-0.12\linewidth,
% linewidth=0.88\linewidth
]
template <int S> SecureInt<S>
mux(SecureInt<S> input, SecureInt<S> item,
    SecureInt<S> t, SecureInt<S> f)
{
    auto cond = input == item;
    return cond * t
        + !cond * f;
}
\end{lstlisting}
\end{minipage}
% \vspace{\lstbspace}
\end{figure}
