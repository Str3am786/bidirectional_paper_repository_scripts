\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{float}
\usepackage{longtable}
\usepackage{biblatex}
\usepackage{xargs}
\addbibresource{Plots.bib}

\usepackage{listings}
\lstset{
    literate={Â±}{{\pm}}1
}
\makeatletter

\usepackage{jlcode}
\usepackage{hyperref}
\hypersetup{
    hidelinks,
}
\usepackage{cleveref}
% If you do not want colors, use the option below and comment the color
% defintions from the lstdefinestyle section

% Define the URL and text to display on code links: 
\newcommand{\codeurl}{https://raw.githubusercontent.com/m3g/jlcode_example/master}
\newcommand{\codelinktext}{[Click here to download the code]}

% Change the following line to change the code size inside code boxes
\def\jlbasicfont{\ttfamily\footnotesize\selectfont}

\lstdefinestyle{code}{
    language=Julia, 
    showstringspaces=false,
    xleftmargin=5pt,
    framexleftmargin=10pt,
    linewidth = 1.08\linewidth,
    numbers=none,
    rulecolor        = \color[HTML]{000000},
    frame=false,
    keepspaces=true
}
\lstnewenvironment{code}[1][]{\lstset{
style=code, #1
}}{}
\newcommandx{\codefile}[3][1={}, 2={}]{\jlinputlisting[
    caption=#1,
    label=#2
]{#3}}
\newcommand{\codelink}[1]{\lstinputlisting[
    style=code
]{#1}
  \noindent\begin{center}
  \filename@parse{#1}
  \href{\codeurl/\filename@base.\filename@ext}
  {\textcolor{blue}{\codelinktext}}
  \end{center}
}
\newcommand{\linkonly}[1]{
  \protect\filename@parse{#1}
  \href{\codeurl/\filename@base.\filename@ext}
  {\textcolor{blue}{\tt[\protect\filename@base.\protect\filename@ext]}}
}
\makeatother
\newcommand{\inline}{\jlinl}

% % Can't get that running ;..(
% % Changing font to JuliaMono
% %
% \usepackage{fontspec}
% \newfontfamily \JuliaMono {JuliaMono-Light}[
%     Path=./JuliaMono/,
%     Extension = .ttf,
%     UprightFont = JuliaMono-Light
% ]
% \newfontface \JuliaMonoLight{\JuliaMono{}}
% \setmonofont{./JuliaMono/JuliaMono-Light.ttf}[ Contextuals=Alternate ]
